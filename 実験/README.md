# 実験データ管理

このディレクトリには、MobileNLD-FL プロジェクトの実験で生成された貴重なデータを保存します。

## ディレクトリ構造

```
実験/
├── raw_data/        # 生の測定データ（Instrumentsの出力、CSVなど）
├── processed_data/  # 処理済みデータ（統計処理後、グラフ用データ）
├── logs/           # 実験ログ（実行条件、環境情報など）
├── results/        # 実験結果（サマリー、比較表など）
└── figures/        # 生成したグラフ・図表
```

## 実験データ命名規則

### ファイル名フォーマット
```
YYYY-MM-DD_HH-MM_実験名_条件_v番号.拡張子
```

例：
- `2025-07-31_17-00_simd_measurement_50samples_v1.csv`
- `2025-07-31_17-30_cache_analysis_L1_v1.json`

## 実験記録

### 実施予定の実験

1. **SIMD利用率測定**
   - データサイズ: 50, 100, 200, 500, 1000, 2000, 5000
   - 測定項目: 実際のSIMD命令使用率、処理時間、キャッシュミス率

2. **キャッシュ効率測定**
   - L1/L2/L3キャッシュヒット率
   - メモリアクセスパターン分析

3. **近似アルゴリズム性能評価**
   - 厳密解 vs グリッドベース vs LSH
   - 精度と速度のトレードオフ

4. **電力消費測定**
   - 各実装での消費電力
   - バッテリー影響評価

## データ保存時の注意事項

1. **メタデータの記録**
   - デバイス情報（機種、OS、メモリ）
   - 実行条件（バックグラウンドアプリ、温度）
   - コードバージョン（git commit hash）

2. **再現可能性の確保**
   - 乱数シード値の記録
   - 実行コマンドの完全記録
   - 環境変数の保存

3. **バックアップ**
   - 重要なデータは別途バックアップ
   - git-lfsでの管理も検討

## 実験ログテンプレート

```json
{
  "experiment_id": "exp_001",
  "date": "2025-07-31T17:00:00",
  "device": {
    "model": "iPhone 13 Pro",
    "os": "iOS 17.0",
    "memory": "6GB"
  },
  "conditions": {
    "data_size": 1000,
    "embedding_dim": 5,
    "iterations": 100
  },
  "results": {
    "processing_time_ms": null,
    "simd_utilization": null,
    "cache_hit_rate": null
  },
  "notes": ""
}
```

## 実験実施チェックリスト

- [ ] デバイスを再起動して初期状態に
- [ ] 不要なアプリを終了
- [ ] 電源接続（バッテリー状態の影響を除外）
- [ ] Instrumentsの設定確認
- [ ] 実験前のgit commit記録
- [ ] 実験条件の記録
- [ ] 複数回実行（統計的信頼性）
- [ ] 異常値のチェック
- [ ] データのバックアップ

---

最終更新: 2025-07-31