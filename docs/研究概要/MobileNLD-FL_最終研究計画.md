# MobileNLD-FL 最終研究計画（計算技術重視版）
## Q15固定小数点+SIMD並列化による非線形動力学解析の最適化

### 研究確定日: 2024年7月30日
### 目標: IEICE和文論文誌Cレター（4-6ページ）採択

---

## 1. プロジェクトのコア貢献（最終確定版）

### N0. スマートフォンCPU（A15/Arm）上でLyE/DFAをQ15固定小数点+SIMD（NEON）で最適化
**新規性**: 既存の汎用Q15ライブラリをNLD特化で再構成し、SIMDパイプライン95%飽和を実現
- **技術要素**: Q15固定小数点（16bit符号付き）、ARM NEON 128bit SIMD、DFA/LyE特化最適化
- **差別化**: CMSIS-DSP汎用Q15に対し、NLD演算パターンに特化したSIMDスケジューリング

### N1. 演算21×高速化・2.3×電力効率・RMSE≤2%劣化の「速度-精度スウィートスポット」実証
**新規性**: モバイル制約下での定量比較で、CMSIS-DSP/TF-Lite比10×優位を証明
- **性能目標**: 
  - 処理時間：89.2ms（MATLAB非最適化基準）→ 4.2ms（21倍高速化）
  - 電力効率：15.2mJ → 6.6mJ（2.3倍効率化）
  - 精度劣化：RMSE < 2%（α推定誤差 < 0.01）
  - **基準実装**: MATLAB R2024a、倍精度浮動小数点、最適化なし

### N2. Q15/SIMD最適化済みNLD特徴を個人化Federated AEに連結
**新規性**: 解釈可能指標をプライバシー保護学習に統合、汎用NLDコアの移植性を強調
- **アーキテクチャ**: 個人化Autoencoder（PFL-AE）
- **技術統合**: NLD特徴量（α、λ₁）→ AE圧縮 → FL集約
- **λ₁表記説明**: λ₁は最大リアプノフ指数（maximum Lyapunov exponent）を指し、Rosenstein法による算出

### N3. 疲労検知は「応用デモ」と位置付け、NLD最適化の汎用性を中心に
**新規性**: 臨床応用をサブに留め、NLDの多疾患適応可能性を示唆
- **応用範囲**: 疲労検知、転倒予防、心疾患早期発見、睡眠解析
- **汎用性**: DFA/LyE以外のNLD手法（MFDFA、ApEn）への拡張可能性

---

## 2. 先行研究とのマッピング（強化版）

| 観点 | Peng 1995 (DFA) | Patel 2012 (Sys) | Potvin 2019 (On-device NN) | MobileNLD-FL | ギャップ充填度(5点満点) |
|------|-----------------|-------------------|----------------------------|--------------|-------------------------|
| **アルゴリズム新規性** | DFA提唱（フラクタル生理学の基盤） | システムフレームワーク | CNN/LSTM HAR（精度95%） | **DFA/LyEのQ15+SIMD最適化** | 4/5（計算効率でPengを進化） |
| **実装ターゲット** | ワークステーション（オフライン） | クラウド/PC | スマホ (FP32/INT8 NN) | **スマホ (Fixed-point NLD)** | 5/5（Potvinのスマホ実装を非線形解析へ拡張） |
| **電力制約対応** | 未考慮 | 「課題」と指摘 | 一部量子化（INT8） | **整数演算+SIMDで2.3×効率** | 5/5（Patelのバッテリー課題を定量解決） |
| **解釈可能バイオマーカー** | ◎ α指数（生理学的意味明確） | △ (高レベル枠) | × (ブラックボックス) | **◎ α, LyEを精度維持で計算** | 4/5（Potvinの解釈不能を克服） |
| **プライバシ保護** | ― | 課題指摘のみ | クラウド依存 | **Federated Learning** | 3/5（Patelの懸念を部分解決） |

**平均ギャップ充填度**: 4.2/5

---

## 3. まだ甘い／補強すべきポイント（優先度順）

### P-1: CMSIS-DSP / vDSP既存Q15 APIとの差別化（優先度: 最高）
**問題**: 汎用Q15はArm/Appleのライブラリで既出。「NLD特化」が曖昧で、新規性ゼロのリスク
**補強策**: 
- 「CMSISのQ15乗算をNLDパイプラインに特化再構成、SIMD飽和率95%」をマイクロアーキテクチャ図で証明
- CMSIS比1.5×高速を実測・実証
- アセンブラレベルでのSIMDスケジューリング最適化を明文化

### P-2: 精度の臨床妥当性エビデンス（優先度: 高）
**問題**: RMSE≤2%が「臨床無影響」と主張するが、根拠なし。Pengのα差0.02が疲労検知にどう影響か不明
**補強策**:
- 実データでQ15劣化がAUC低下<0.5ptを検証
- 臨床医インタビューで「許容劣化率」をアンケート実施
- α推定誤差<0.01の数学的証明

### P-3: 比較対象が「FP32 Swift」だけでは弱い（優先度: 中）
**問題**: 自前比較で21倍を主張するのは恣意的。TF-Lite INT16が競合で、無視は不適切
**補強策**:
- CMSIS-DSP Q15（Cortex-A）、TF-Lite-Micro INT16をベンチ追加
- 「nJ/MAC」で優位を示す
- IEEE標準指標での性能比較

### P-4: Android実機でも10×以上再現させる（優先度: 高）
**問題**: iOS限定で「モバイル」と呼ぶのは片手落ち。Android市場を無視した視野狭窄
**補強策**:
- Pixel 7でNDK-NEON実装
- クロスOSで≥10×高速を証明し、プラットフォーム独立性を主張
- 最低3デバイスで測定実施

### P-5: 理論的裏付けの欠如（優先度: 高）
**問題**: 最適化の数学的証明（例: 誤差伝播解析）がない。査読で「なぜ21倍か説明せよ」と詰められるリスク
**補強策**:
- DFAのQ15誤差モデルを作成
- 「α推定誤差<0.01」を数式で導出
- 理論的な高速化倍率の算出根拠を明示

---

## 4. 追加で必読・引用すべき文献

### 必須文献（★）
- **Ferron, S. et al. "Fixed-Point Implementation of Rosenstein Lyap. Exponent on ARM-M4," IEEE SPL 2021.**
  - 理由: LyEの固定小数点実装で直接競合。SIMD追加で差別化必要
- **Zhou, V. et al. "Efficient DFA on Wearables," Sensors 2022.**
  - 理由: DFAのウェアラブル最適化。Q15版が電力で勝る点を比較
- **Hu, S. et al. "Deep Learning for Mobile Activity Recognition: A Survey," ACM CSUR 2020.**
  - 理由: Potvin類似のHARサーベイ。NN中心の限界を指摘し、NLDアプローチの優位性を裏付け

### 推奨文献（☆）
- **Palčič, J. "MFDFA acceleration on FPGA," IEEE TSP 2019.**
  - 理由: ハードウェア加速の競合。ソフト実装の優位性を議論
- **Apple, Accelerate Framework Doc (2022) "vDSP Fixed-Point APIs".**
  - 理由: vDSPのQ15を引用し、カスタムNLD最適化の差分を明確化
- **Kairouz, P. et al. "Advances in Federated Learning," Found. Trends ML 2021.**
  - 理由: FLサーベイ。個人化AEの通信効率を引用し、統合を強化
- **Mittal, S. "Approximate Computing Survey," ACM CSUR 2016.**
  - 理由: 精度-電力トレードオフの理論。<2%劣化を理論的に位置づけ

---

## 5. IEICE レター原稿への落とし込み指針

### 基本方針: 「ソフトウェア最適化論」重視
- **タイトル**: 「Q15固定小数点とSIMD並列化によるモバイル非線形動力学解析の最適化 ～疲労検知応用を例に～」
- **構成**: まえがき(1p) → 手法(2p) → 評価(2p) → むすび(0.5p) → 参考文献(0.5p)

### 図表構成（上限2図+1表）
- **図1**: 処理時間・電力バー（FP32 vs CMSIS-Q15 vs 本手法）
- **図2**: α/LyE精度とAUC劣化の2軸プロット（トレードオフ曲線）
- **表1**: クロスプラットフォーム速度/電力比較（マッピング表縮約版）

### 先行研究節の書き方
- **分量**: 1/3ページ
- **内容**: 「従来は○○(Peng)→△△(Patel)→□□(Potvin)。本手法は☆でギャップ解消」
- **各先行の限界を1文で指摘し、解決を定量値で対比**

### 補遺対応
- MATLAB高精度検証・Android実測・詳細コードを格納してDOI付きで公開
- GitHubリンクで査読での「詳細不足」指摘を先回り

---

## 6. 最終チェックリスト

### 技術的確認項目
- [ ] **既存vDSP/CMSIS実装にないNLD特化SIMDスケジューリングを明文化**（アセンブラレベル解析で証明）
- [ ] **精度劣化がバイオマーカー解釈(α差<0.02)に無影響である医学データ実証**（臨床医レビューを必須）
- [ ] **クロスOS(iOS&Android)とクロスCPU世代で≥10×高速を再確認**（最低3デバイスで測定）
- [ ] **電力量指標は"mJ per 3s窓"だけでなく"nJ per MAC"を追加し汎用化**（IEEE論文の指標準拠）

### 論文品質確認項目
- [ ] **図表≤2、本文<6p、引用<20本 – IEICE Dレター規定を死守**
- [ ] **査読想定Q&Aを準備**（技術的質問への回答を事前作成）
- [ ] **甘さ自覚: 毎週進捗レビューを実施**（外部専門家に相談し、過剰主張を防ぐ）

### 実装確認項目
- [ ] **iPhone13実機でのベンチマーク完了**
- [ ] **Android（Pixel 7）実装とベンチマーク完了**
- [ ] **CMSIS-DSP、TF-Lite-Microとの比較実験完了**
- [ ] **補遺用詳細データとコードの準備完了**

---

## 7. 研究スケジュール（実験優先・9月完了計画）

### Week 1-2: 基盤実装とP-1対策
- Q15+SIMD NLD最適化の詳細実装
- CMSIS-DSP差別化実証（最高優先度）
- iPhone13での基本ベンチマーク

### Week 3-4: 性能検証実験
- MATLAB基準（89.2ms）との厳密比較
- CMSIS-DSP、TF-Lite-Microとの比較
- MHEALTH データセット（10被験者、5-fold CV）での検証

### Week 5-6: 精度・Android実装
- Rosenstein法によるλ₁（LyE）計算精度検証
- Android実装と性能測定
- 理論的誤差解析の完成

### Week 7-8: 実験完了・データ整理
- 全ベンチマーク実験の完了
- 統計的検定とデータ解析
- 論文執筆準備（2024年9月末目標）

### Week 9: 論文執筆・投稿
- IEICE レター原稿作成
- 最終チェックリスト確認・投稿

---

**重要事項**: 
- **研究主軸**: Q15固定小数点+SIMD並列化による計算技術最適化
- **応用例**: 疲労検知は技術実証のデモンストレーション
- **評価データ**: MHEALTH データセット（10被験者、5-fold cross-validation）
- **基準性能**: MATLAB R2024a非最適化実装（89.2ms）
- **λ₁定義**: 最大リアプノフ指数、Rosenstein法で算出
- **優先度**: P-1（CMSIS差別化）が最高優先度、他は従来通り
- **実験完了**: 2024年9月末までに全実験完了、論文執筆は10月

査読では技術的貢献を中心に訴求し、疲労検知の臨床的意義は控えめに記述する。