# EdgeHAR: 学術的視点からの包括的解説

## 1. 研究の学術的位置づけ

### 1.1 研究領域の交差点
EdgeHARは以下の4つの研究領域が交差する独特な位置にあります：

```
        [TinyML/組込みAI]
               ↓
    [分散エッジコンピューティング] ← EdgeHAR → [Human Activity Recognition]
               ↑
        [エネルギー最適化]
```

この交差点における研究は極めて希少であり、それが本研究の新規性の源泉となっています。

### 1.2 研究課題の定式化

**中心的研究課題（Research Question）**：
> 極度にリソース制約のあるマイクロコントローラ群において、バッテリー寿命を最大化しながら、リアルタイムかつ高精度な人間活動認識を実現するには、どのような分散協調アーキテクチャが最適か？

**サブ課題**：
1. MCU間でのタスク分割の最適化問題をどう定式化するか
2. 通信オーバーヘッドと計算負荷のトレードオフをどう解決するか
3. 動的環境下での安定性と適応性をどう両立させるか

## 2. 理論的基盤

### 2.1 最適化問題としての定式化

EdgeHARシステムは、以下の多目的最適化問題として定式化できます：

**目的関数**：
```
minimize: Σ(E_comp + E_comm) / N_decisions  [mJ/判定]
subject to:
  - Accuracy ≥ 0.85  [精度制約]
  - Latency_p99 < 100ms  [リアルタイム制約]
  - min(B_i) → max  [バッテリー寿命最大化]
```

ここで：
- `E_comp`: 計算エネルギー
- `E_comm`: 通信エネルギー
- `N_decisions`: 判定回数
- `B_i`: デバイスiのバッテリー残量

### 2.2 分散システム理論の適用

**CAP定理の文脈**：
EdgeHARは分散システムとして、以下のトレードオフに直面します：
- **Consistency（一貫性）**: 全デバイスが同じ状態認識を共有
- **Availability（可用性）**: 一部デバイス故障時も動作継続
- **Partition tolerance（分断耐性）**: BLE通信断絶への対処

本システムは**AP重視**（可用性と分断耐性）の設計を採用し、最終的な一貫性（Eventual Consistency）モデルを実装しています。

### 2.3 制御理論の観点

**フィードバック制御ループ**：
```
[センサー入力] → [状態推定] → [負荷分散決定] → [タスク実行]
        ↑                                              ↓
        └──────── [バッテリー状態更新] ←──────────┘
```

制御周期：1-2秒（経験的に決定）
- 短すぎる：通信オーバーヘッド増大
- 長すぎる：応答性低下、バッテリー不均衡

**ヒステリシス制御**：
```python
if battery_diff > 10%:  # 閾値
    trigger_rebalancing()
else:
    maintain_current_state()  # 振動防止
```

## 3. 技術的新規性の学術的根拠

### 3.1 既存パラダイムとの対比

| パラダイム | 既存研究 | EdgeHAR | 学術的意義 |
|-----------|---------|---------|------------|
| **計算モデル** | クライアント-サーバ型 | ピアツーピア型 | 完全分散化の実証 |
| **負荷分散** | 静的/事前計画 | 動的/実行時適応 | リアルタイム最適化 |
| **エネルギー管理** | 個別最適化 | 全体最適化 | システム寿命の最大化 |
| **推論戦略** | 固定精度 | 適応的精度 | コンテキスト依存制御 |

### 3.2 アルゴリズム的貢献

**提案アルゴリズム：Battery-Aware Dynamic Task Allocation (BADTA)**

```
Algorithm BADTA:
1. Initialize: B = [B₁, B₂, B₃]  // バッテリーベクトル
2. For each time slot t:
   a. Measure current battery levels
   b. Calculate battery variance σ²(B)
   c. If σ²(B) > threshold:
      i.  Identify min_device = argmin(B)
      ii. Identify max_device = argmax(B)
      iii. Migrate task: min_device → max_device
   d. Execute HAR inference
   e. Update battery model
```

**複雑度分析**：
- 時間複雑度：O(n) where n = number of devices (n=3で定数時間)
- 空間複雑度：O(n²) for device state matrix
- 通信複雑度：O(n²) for all-to-all communication

### 3.3 評価メトリクスの革新

**従来メトリクス**：
- Accuracy（精度）
- Latency（遅延）
- Power（消費電力）

**提案メトリクス**：
- **mJ/判定**：エネルギー効率の直接的指標
- **System Lifetime**：最初のデバイス故障までの時間
- **Battery Variance**：負荷分散の均等性
- **Effective Decisions per Charge**：バッテリーあたりの総判定数

## 4. 実験設計の学術的厳密性

### 4.1 実験仮説

**仮説1**：動的負荷分散により、静的割当と比較してシステム寿命が1.5-2倍延長される

**仮説2**：階層ゲーティングにより、精度を85%以上維持しつつmJ/判定を40-60%削減できる

**仮説3**：BLE通信オーバーヘッドを含めても、p99レイテンシを100ms以下に抑制できる

### 4.2 変数の制御

**独立変数**：
- 負荷分散戦略（動的/静的）
- 推論モデル（2クラス/8クラス/適応）
- 再割当周期（0.5/1/2/5秒）

**従属変数**：
- mJ/判定
- システム寿命
- 認識精度
- p99レイテンシ

**制御変数**：
- データセット（UCI HAR/独自）
- ハードウェア（M5Stack Core2）
- 通信プロトコル（BLE 5.0）

### 4.3 統計的検証

**必要なサンプルサイズ**：
- 効果量（Cohen's d）= 0.8を仮定
- 有意水準α = 0.05、検出力1-β = 0.8
- 必要サンプル：各条件26試行以上

**検定手法**：
- 平均値の差：t検定（正規性確認後）
- 複数条件：ANOVA + Tukey HSD
- 非正規分布：Mann-Whitney U検定

## 5. 論文執筆戦略

### 5.1 IEICE ComEXでの位置づけ

**ターゲット読者**：
- 組込みシステム研究者
- エッジAI実装者
- IoTシステム設計者

**強調すべき貢献**：
1. **システム貢献**：MCUクラスタでの実動作実証
2. **アルゴリズム貢献**：BADTA アルゴリズム
3. **実験貢献**：mJ/判定での定量評価

### 5.2 Related Workでの差別化戦略

```
既存研究の分類：
├─ 単一デバイスTinyML [Daghero 2022]
│   → "高度に最適化されているが協調なし"
├─ 分散推論 [OAC研究]
│   → "高性能デバイス前提、MCU非対応"
├─ エネルギー最適化 [Contoli 2024]
│   → "個別最適化、システム全体考慮なし"
└─ EdgeHAR [本研究]
    → "MCUクラスタでの統合的解決"
```

### 5.3 限界と将来課題の明記

**現在の限界**：
- デバイス数3台に固定（スケーラビリティ未検証）
- 同種デバイスのみ（異種混在未対応）
- オフライン学習（オンライン適応なし）

**将来の拡張**：
- n台への一般化（n>3）
- 異種MCU混在環境
- 強化学習による動的ポリシー学習

## 6. 学術的インパクトの予測

### 6.1 直接的貢献

**TinyML分野**：
- MCU協調の実現可能性実証
- 実用的なメモリ/計算制約下での動作

**分散システム分野**：
- 極小規模クラスタの最適化事例
- 通信制約下での協調アルゴリズム

**HAR分野**：
- エネルギー効率の新指標（mJ/判定）
- 実デバイスでの長時間動作実証

### 6.2 波及効果

**産業応用**：
- ウェアラブルデバイスの協調動作
- スマートホームのエッジ処理
- 産業IoTの分散センシング

**研究発展**：
- より大規模なMCUクラスタ研究
- 異種デバイス間協調
- エネルギーハーベスティングとの統合

## 7. 査読対応の準備

### 7.1 予想される批判と回答

**批判1**：「3台は少なすぎる」
→ 回答：概念実証として最小構成で検証。理論は一般化可能

**批判2**：「実データが少ない」
→ 回答：UCIベンチマーク＋独自データで検証。統計的有意

**批判3**：「既存手法との公平な比較が困難」
→ 回答：同一ハードウェアでのアブレーション実施

### 7.2 強みとしてアピールすべき点

1. **実システムでの動作実証**（シミュレーションではない）
2. **オープンソース公開予定**（再現性担保）
3. **産業応用への明確な道筋**（実用性）

## まとめ

EdgeHARは、単なる技術の組み合わせではなく、**MCUクラスタにおけるエネルギー最適分散処理**という新しい研究領域を開拓するプロジェクトです。その学術的価値は、個々の要素技術の革新性よりも、**極限環境下でのシステム統合の実証**にあります。この視点を明確に打ち出すことで、IEICE ComEXでの採択可能性を高めることができるでしょう。

---
*Created: 2024-12-10*
*Purpose: EdgeHARプロジェクトの学術的理解の深化*